import{g as _,c as G,d as B,e as X,r as d,j as o,f as $,h as k,i as T,m as A,k as H,l as V,b as Y,u as z,o as ie,p as be}from"./index-D5DSkeF1.js";import{B as ve,T as g,u as Ce,G as E,a as O,b as ye}from"./GlobeIcon-5fnF1emq.js";import{B as je}from"./Button-NBn3Bk9O.js";import{B as se}from"./ButtonBlurIcon-BWDiRqrI.js";import{A as ke,O as we,B as Re,C as Se,a as Be,t as Ie}from"./bucket-CmRTTGm0.js";import{u as le,a as Z,f as ce,b as Fe,c as Pe,d as ze,F as Me,g as $e}from"./ltems-DbSl3FZh.js";import{c as D}from"./axios-Br-_n-tZ.js";import"./index-BYh-8Bfw.js";import"./Paper-jPBVfpNG.js";function Ne(e){return _("PrivateSwitchBase",e)}G("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const Le=e=>{const{classes:t,checked:s,disabled:n,edge:a}=e,r={root:["root",s&&"checked",n&&"disabled",a&&`edge${k(a)}`],input:["input"]};return T(r,Ne,t)},Oe=B(ve)({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:({edge:e,ownerState:t})=>e==="start"&&t.size!=="small",style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:({edge:e,ownerState:t})=>e==="end"&&t.size!=="small",style:{marginRight:-12}}]}),_e=B("input",{shouldForwardProp:X})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),de=d.forwardRef(function(t,s){const{autoFocus:n,checked:a,checkedIcon:r,className:l,defaultChecked:i,disabled:c,disableFocusRipple:m=!1,edge:u=!1,icon:f,id:b,inputProps:p,inputRef:v,name:C,onBlur:h,onChange:y,onFocus:x,readOnly:I,required:w=!1,tabIndex:N,type:j,value:W,...J}=t,[M,U]=le({controlled:a,default:!!i,name:"SwitchBase",state:"checked"}),R=Z(),K=F=>{x&&x(F),R&&R.onFocus&&R.onFocus(F)},L=F=>{h&&h(F),R&&R.onBlur&&R.onBlur(F)},P=F=>{if(F.nativeEvent.defaultPrevented)return;const oe=F.target.checked;U(oe),y&&y(F,oe)};let S=c;R&&typeof S>"u"&&(S=R.disabled);const ge=j==="checkbox"||j==="radio",Q={...t,checked:M,disabled:S,disableFocusRipple:m,edge:u},te=Le(Q);return o.jsxs(Oe,{component:"span",className:$(te.root,l),centerRipple:!0,focusRipple:!m,disabled:S,tabIndex:null,role:void 0,onFocus:K,onBlur:L,ownerState:Q,ref:s,...J,children:[o.jsx(_e,{autoFocus:n,checked:a,defaultChecked:i,className:te.input,disabled:S,id:ge?b:void 0,name:C,onChange:P,readOnly:I,ref:v,required:w,ownerState:Q,tabIndex:N,type:j,...j==="checkbox"&&W===void 0?{}:{value:W},...p}),M?r:f]})}),Ge=D(o.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),Te=D(o.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),We=D(o.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function Ue(e){return _("MuiCheckbox",e)}const ee=G("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),qe=e=>{const{classes:t,indeterminate:s,color:n,size:a}=e,r={root:["root",s&&"indeterminate",`color${k(n)}`,`size${k(a)}`]},l=T(r,Ue,t);return{...t,...l}},Ae=B(de,{shouldForwardProp:e=>X(e)||e==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.root,s.indeterminate&&t.indeterminate,t[`size${k(s.size)}`],s.color!=="default"&&t[`color${k(s.color)}`]]}})(A(({theme:e})=>({color:(e.vars||e).palette.text.secondary,variants:[{props:{color:"default",disableRipple:!1},style:{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:H(e.palette.action.active,e.palette.action.hoverOpacity)}}},...Object.entries(e.palette).filter(V()).map(([t])=>({props:{color:t,disableRipple:!1},style:{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[t].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:H(e.palette[t].main,e.palette.action.hoverOpacity)}}})),...Object.entries(e.palette).filter(V()).map(([t])=>({props:{color:t},style:{[`&.${ee.checked}, &.${ee.indeterminate}`]:{color:(e.vars||e).palette[t].main},[`&.${ee.disabled}`]:{color:(e.vars||e).palette.action.disabled}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]}))),Ee=o.jsx(Te,{}),De=o.jsx(Ge,{}),He=o.jsx(We,{}),Ve=d.forwardRef(function(t,s){const n=Y({props:t,name:"MuiCheckbox"}),{checkedIcon:a=Ee,color:r="primary",icon:l=De,indeterminate:i=!1,indeterminateIcon:c=He,inputProps:m,size:u="medium",disableRipple:f=!1,className:b,...p}=n,v=i?c:l,C=i?c:a,h={...n,disableRipple:f,color:r,indeterminate:i,size:u},y=qe(h);return o.jsx(Ae,{type:"checkbox",inputProps:{"data-indeterminate":i,...m},icon:d.cloneElement(v,{fontSize:v.props.fontSize??u}),checkedIcon:d.cloneElement(C,{fontSize:C.props.fontSize??u}),ownerState:h,ref:s,className:$(y.root,b),...p,classes:y})});function Xe(e){return _("MuiFormControlLabel",e)}const q=G("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),Ye=e=>{const{classes:t,disabled:s,labelPlacement:n,error:a,required:r}=e,l={root:["root",s&&"disabled",`labelPlacement${k(n)}`,a&&"error",r&&"required"],label:["label",s&&"disabled"],asterisk:["asterisk",a&&"error"]};return T(l,Xe,t)},Ze=B("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[{[`& .${q.label}`]:t.label},t.root,t[`labelPlacement${k(s.labelPlacement)}`]]}})(A(({theme:e})=>({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${q.disabled}`]:{cursor:"default"},[`& .${q.label}`]:{[`&.${q.disabled}`]:{color:(e.vars||e).palette.text.disabled}},variants:[{props:{labelPlacement:"start"},style:{flexDirection:"row-reverse",marginRight:-11}},{props:{labelPlacement:"top"},style:{flexDirection:"column-reverse"}},{props:{labelPlacement:"bottom"},style:{flexDirection:"column"}},{props:({labelPlacement:t})=>t==="start"||t==="top"||t==="bottom",style:{marginLeft:16}}]}))),Je=B("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(A(({theme:e})=>({[`&.${q.error}`]:{color:(e.vars||e).palette.error.main}}))),pe=d.forwardRef(function(t,s){const n=Y({props:t,name:"MuiFormControlLabel"}),{checked:a,className:r,componentsProps:l={},control:i,disabled:c,disableTypography:m,inputRef:u,label:f,labelPlacement:b="end",name:p,onChange:v,required:C,slots:h={},slotProps:y={},value:x,...I}=n,w=Z(),N=c??i.props.disabled??(w==null?void 0:w.disabled),j=C??i.props.required,W={disabled:N,required:j};["checked","name","onChange","value","inputRef"].forEach(S=>{typeof i.props[S]>"u"&&typeof n[S]<"u"&&(W[S]=n[S])});const J=ce({props:n,muiFormControl:w,states:["error"]}),M={...n,disabled:N,labelPlacement:b,required:j,error:J.error},U=Ye(M),R={slots:h,slotProps:{...l,...y}},[K,L]=Fe("typography",{elementType:g,externalForwardedProps:R,ownerState:M});let P=f;return P!=null&&P.type!==g&&!m&&(P=o.jsx(K,{component:"span",...L,className:$(U.label,L==null?void 0:L.className),children:P})),o.jsxs(Ze,{className:$(U.root,r),ownerState:M,ref:s,...I,children:[d.cloneElement(i,W),j?o.jsxs("div",{children:[P,o.jsxs(Je,{ownerState:M,"aria-hidden":!0,className:U.asterisk,children:[" ","*"]})]}):P]})});function Ke(e){return _("MuiFormGroup",e)}G("MuiFormGroup",["root","row","error"]);const Qe=e=>{const{classes:t,row:s,error:n}=e;return T({root:["root",s&&"row",n&&"error"]},Ke,t)},et=B("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.root,s.row&&t.row]}})({display:"flex",flexDirection:"column",flexWrap:"wrap",variants:[{props:{row:!0},style:{flexDirection:"row"}}]}),ue=d.forwardRef(function(t,s){const n=Y({props:t,name:"MuiFormGroup"}),{className:a,row:r=!1,...l}=n,i=Z(),c=ce({props:n,muiFormControl:i,states:["error"]}),m={...n,row:r,error:c.error},u=Qe(m);return o.jsx(et,{className:$(u.root,a),ownerState:m,ref:s,...l})}),tt=D(o.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),ot=D(o.jsx("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked"),st=B("span",{shouldForwardProp:X})({position:"relative",display:"flex"}),nt=B(tt)({transform:"scale(1)"}),at=B(ot)(A(({theme:e})=>({left:0,position:"absolute",transform:"scale(0)",transition:e.transitions.create("transform",{easing:e.transitions.easing.easeIn,duration:e.transitions.duration.shortest}),variants:[{props:{checked:!0},style:{transform:"scale(1)",transition:e.transitions.create("transform",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.shortest})}}]})));function he(e){const{checked:t=!1,classes:s={},fontSize:n}=e,a={...e,checked:t};return o.jsxs(st,{className:s.root,ownerState:a,children:[o.jsx(nt,{fontSize:n,className:s.background,ownerState:a}),o.jsx(at,{fontSize:n,className:s.dot,ownerState:a})]})}const me=d.createContext(void 0);function rt(){return d.useContext(me)}function it(e){return _("MuiRadio",e)}const ne=G("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary","sizeSmall"]),lt=e=>{const{classes:t,color:s,size:n}=e,a={root:["root",`color${k(s)}`,n!=="medium"&&`size${k(n)}`]};return{...t,...T(a,it,t)}},ct=B(de,{shouldForwardProp:e=>X(e)||e==="classes",name:"MuiRadio",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.root,s.size!=="medium"&&t[`size${k(s.size)}`],t[`color${k(s.color)}`]]}})(A(({theme:e})=>({color:(e.vars||e).palette.text.secondary,[`&.${ne.disabled}`]:{color:(e.vars||e).palette.action.disabled},variants:[{props:{color:"default",disabled:!1,disableRipple:!1},style:{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:H(e.palette.action.active,e.palette.action.hoverOpacity)}}},...Object.entries(e.palette).filter(V()).map(([t])=>({props:{color:t,disabled:!1,disableRipple:!1},style:{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[t].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:H(e.palette[t].main,e.palette.action.hoverOpacity)}}})),...Object.entries(e.palette).filter(V()).map(([t])=>({props:{color:t,disabled:!1},style:{[`&.${ne.checked}`]:{color:(e.vars||e).palette[t].main}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]})));function dt(e,t){return typeof t=="object"&&t!==null?e===t:String(e)===String(t)}const ae=o.jsx(he,{checked:!0}),re=o.jsx(he,{}),pt=d.forwardRef(function(t,s){const n=Y({props:t,name:"MuiRadio"}),{checked:a,checkedIcon:r=ae,color:l="primary",icon:i=re,name:c,onChange:m,size:u="medium",className:f,disabled:b,disableRipple:p=!1,...v}=n,C=Z();let h=b;C&&typeof h>"u"&&(h=C.disabled),h??(h=!1);const y={...n,disabled:h,disableRipple:p,color:l,size:u},x=lt(y),I=rt();let w=a;const N=Pe(m,I&&I.onChange);let j=c;return I&&(typeof w>"u"&&(w=dt(I.value,n.value)),typeof j>"u"&&(j=I.name)),o.jsx(ct,{type:"radio",icon:d.cloneElement(i,{fontSize:re.props.fontSize??u}),checkedIcon:d.cloneElement(r,{fontSize:ae.props.fontSize??u}),disabled:h,ownerState:y,classes:x,name:j,checked:w,onChange:N,ref:s,className:$(x.root,f),...v})});function ut(e){return _("MuiRadioGroup",e)}G("MuiRadioGroup",["root","row","error"]);const ht=e=>{const{classes:t,row:s,error:n}=e;return T({root:["root",s&&"row",n&&"error"]},ut,t)},mt=d.forwardRef(function(t,s){const{actions:n,children:a,className:r,defaultValue:l,name:i,onChange:c,value:m,...u}=t,f=d.useRef(null),b=ht(t),[p,v]=le({controlled:m,default:l,name:"RadioGroup"});d.useImperativeHandle(n,()=>({focus:()=>{let x=f.current.querySelector("input:not(:disabled):checked");x||(x=f.current.querySelector("input:not(:disabled)")),x&&x.focus()}}),[]);const C=Ce(s,f),h=ze(i),y=d.useMemo(()=>({name:h,onChange(x){v(x.target.value),c&&c(x,x.target.value)},value:p}),[h,c,v,p]);return o.jsx(me.Provider,{value:y,children:o.jsx(ue,{role:"radiogroup",ref:C,className:$(b.root,r),...u,children:a})})}),ft=({text:e})=>{const t=z(),[s,n]=d.useState(!1),a=()=>n(!s);return o.jsxs(g,{variant:"h5",onClick:s?a:void 0,paddingBottom:s?4:0,sx:{overflow:"hidden",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:s?0:2,position:"relative"},fontWeight:400,color:t.palette.secondary.contrastText,my:6,children:[e,e.length>200&&o.jsx(je,{onClick:a,sx:{paddingY:0,paddingLeft:s?0:2,paddingRight:0,borderRadius:"500px",position:"absolute",bottom:s?0:2,right:s?"unset":2,left:s?0:"unset",minWidth:0,height:"12px",bgcolor:t.palette.background.paper},children:o.jsx(g,{variant:"h5",sx:{fontWeight:700,color:t.palette.secondary.contrastText},children:s?"Show less":"...more"})})]})},xt=({name:e,price:t})=>{const s=z();return o.jsxs(E,{display:"grid",paddingTop:"24px",children:[o.jsx(g,{variant:"h3",children:e}),o.jsx(g,{variant:"h3",fontWeight:700,color:s.palette.primary.main,children:t})]})},gt=({url:e})=>o.jsxs(E,{position:"absolute",top:"0",left:"0",width:"100%",height:"250px",children:[o.jsx(O,{position:"absolute",top:"-80px",left:"0",width:"100%",height:"180px",sx:{background:"linear-gradient(180deg, rgba(0, 0, 0, 0.5) 76%, rgba(0, 0, 0, 0) 100%)"}}),o.jsx("img",{src:e,alt:"food item",style:{width:"100%",height:"100%"}})]}),bt=()=>{const e=z(),t=ie();return o.jsxs(E,{display:"flex",alignItems:"center",justifyContent:"space-between",mb:"184px",children:[o.jsx(se,{onClick:()=>t(-1),children:o.jsx(ke,{sx:{color:e.palette.white,fontSize:"28px"}})}),o.jsx(g,{variant:"h1",textTransform:"uppercase",color:e.palette.white,zIndex:1,children:"Navat"}),o.jsx(se,{children:o.jsx(ye,{width:28,height:28,color:e.palette.white})})]})},vt=e=>{const t=z();return o.jsx(g,{...e,variant:"body2",sx:{...e.sx,paddingX:2,border:`1px solid ${e.active?t.palette.primary.main:t.palette.primary.contrastText}`,bgcolor:e.active?t.palette.primary.main:t.palette.white,color:e.active?t.palette.white:"inherit",borderRadius:"32px",textAlign:"center",width:"fit-content",fontWeight:500},children:e.children})},fe=({width:e,height:t,color:s})=>o.jsx("svg",{version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:e||18,height:t||18,viewBox:"0 0 132.000000 132.000000",preserveAspectRatio:"xMidYMid meet",children:o.jsx("g",{transform:"translate(0.000000,132.000000) scale(0.100000,-0.100000)",fill:s||"#000000",stroke:"none",children:o.jsx("path",{d:`M148 1310 c-51 -15 -94 -49 -118 -92 l-25 -43 0 -515 0 -515 27 -45\r
    c16 -28 43 -55 70 -70 l43 -25 515 0 515 0 43 25 c27 15 54 42 70 70 l27 45 0\r
    515 0 515 -25 43 c-15 27 -42 54 -70 70 l-45 27 -500 2 c-275 1 -512 -2 -527\r
    -7z m939 -382 c14 -13 23 -33 23 -52 0 -27 -33 -63 -258 -288 -221 -221 -262\r
    -258 -288 -258 -24 0 -53 24 -172 143 -125 125 -143 147 -140 172 4 36 48 70\r
    80 62 13 -4 70 -52 126 -109 l103 -102 227 227 c243 241 253 249 299 205z`})})}),xe=({width:e,height:t,color:s})=>o.jsx("svg",{version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:e||18,height:t||18,viewBox:"0 0 132.000000 132.000000",preserveAspectRatio:"xMidYMid meet",children:o.jsx("g",{transform:"translate(0.000000,132.000000) scale(0.100000,-0.100000)",fill:s||"#000000",stroke:"none",children:o.jsx("path",{d:`M148 1310 c-51 -15 -94 -49 -118 -92 l-25 -43 0 -515 0 -515 27 -45\r
    c16 -28 43 -55 70 -70 l43 -25 515 0 515 0 43 25 c27 15 54 42 70 70 l27 45 0\r
    515 0 515 -25 43 c-15 27 -42 54 -70 70 l-45 27 -500 2 c-275 1 -512 -2 -527\r
    -7z m1000 -162 c17 -17 17 -959 0 -976 -17 -17 -959 -17 -976 0 -17 17 -17\r
    959 0 976 17 17 959 17 976 0z`})})}),Ct=({active:e=!1,foodOptions:t,setSelectedOption:s,selectedOption:n})=>{const a=r=>{const l=r.target.value,i=t.find(c=>c.option_name===l);s(i)};return o.jsxs(we,{active:e,children:[o.jsxs(O,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[o.jsx(g,{variant:"h1",fontWeight:600,children:"Опции"}),o.jsx(vt,{active:e,children:e?"Обязательно":"Выбрано"})]}),o.jsx(g,{variant:"body2",fontWeight:500,mb:3,children:"Выбери 1"}),o.jsx(Me,{sx:{width:"100%"},children:o.jsx(mt,{sx:{width:"100%"},value:n.option_name||"",onChange:a,children:t.map((r,l)=>o.jsx(pe,{control:o.jsx(yt,{}),value:r.option_name,sx:{width:"100%","& .MuiFormControlLabel-label":{width:"100%"}},label:o.jsx(jt,{id:r.id,option_name:r.option_name,cost:r.cost})},l))})})]})};function yt(e){const t=z();return o.jsx(pt,{disableRipple:!0,color:"default",sx:{paddingX:3},checkedIcon:o.jsx(fe,{color:t.palette.primary.main}),icon:o.jsx(xe,{color:t.palette.primary.main}),...e})}const jt=({option_name:e,cost:t})=>{const s=z();return o.jsxs(O,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[o.jsx(g,{variant:"h5",fontWeight:400,children:e}),o.jsxs(g,{variant:"h5",color:s.palette.primary.main,sx:{transition:"all 0.3s"},fontWeight:600,children:[t," c"]})]})},kt=({foodModifiers:e,selectedModifier:t,setSelectedModifier:s})=>{const n=(a,r)=>{const l=a.target.value,i=e.find(c=>c.id===l);i&&s(r?[...t,i]:t.filter(c=>c.id!==l))};return o.jsxs(E,{sx:{height:"100%",width:"100%",padding:"16px",position:"relative"},children:[o.jsx(g,{variant:"h1",fontWeight:600,mb:3,children:"Добавки"}),o.jsx(ue,{children:e.map((a,r)=>o.jsx(pe,{onChange:n,slotProps:{typography:{width:"100%"}},control:o.jsx(Rt,{}),value:a.id,label:o.jsx(wt,{id:a.id,name:a.name,additional_cost:a.additional_cost})},r))})]})},wt=({name:e,additional_cost:t})=>{const s=z();return o.jsxs(O,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[o.jsx(g,{variant:"h5",fontWeight:400,children:e}),o.jsxs(g,{variant:"h5",color:s.palette.primary.contrastText,sx:{transition:"all 0.3s"},fontWeight:400,children:[t," с"]})]})};function Rt(e){const t=z();return o.jsx(Ve,{sx:{paddingX:3},checkedIcon:o.jsx(fe,{color:t.palette.primary.main}),icon:o.jsx(xe,{color:t.palette.primary.main}),...e})}const St=({id:e})=>{const[t,s]=d.useState(!1),[n,a]=d.useState({}),[r,l]=d.useState([]),[i,c]=d.useState(1),m=d.useMemo(()=>{const p=Number(n.cost)||0,v=r.reduce((C,h)=>C+Number(h.additional_cost),0);return(p+v)*i},[r,n,i]),[u,f]=d.useState({pk:"",name:"",description:"",type:"",category:"",cook_time:0,options:[{id:"",option_name:"",cost:""}],modifiers:[{id:"",name:"",additional_cost:""}],ingredients:[],allergens:[],nutrition:{calories:0,fat:0,protein:0,carbs:0},availability:!0,discount:0,image_url:"",tags:[]}),b=async()=>{if(e){s(!0);try{const p=await $e(e);f(p.data)}catch(p){console.log(p)}finally{s(!1)}}};return d.useEffect(()=>{b()},[]),{isLoading:t,food:u,getSingleFood:b,setFood:f,selectedOption:n,setSelectedOption:a,selectedModifier:r,setSelectedModifier:l,totalCost:m,count:i,setCount:c}},Ot=()=>{const e=ie(),{id:t}=be(),{food:s,selectedOption:n,setSelectedOption:a,selectedModifier:r,setSelectedModifier:l,totalCost:i,count:c,setCount:m}=St({id:t}),u=async()=>{const f=localStorage.getItem("access"),b=localStorage.getItem("client_id");try{const p=await Ie({qr_code_id:f||"",client_id:b||"",body:{items:[{id:s.pk,option:n.id,modifier:r.map(v=>v.id),count:c}],discount:0}});p.status===200&&(localStorage.setItem("client_id",p.data.client_id),e(-1))}catch(p){console.log(p)}};return o.jsxs(O,{paddingBottom:18,children:[o.jsx(gt,{url:s.image_url}),o.jsx(bt,{}),o.jsx(xt,{name:s.name||"name",price:`${i||"0"} с`}),o.jsx(ft,{text:s.description}),o.jsx(E,{display:"grid",gap:4,children:o.jsx(Ct,{active:!n.option_name,foodOptions:s.options,selectedOption:n,setSelectedOption:a})}),o.jsx(kt,{foodModifiers:s.modifiers,selectedModifier:r,setSelectedModifier:l}),o.jsx(Re,{children:o.jsxs(O,{display:"flex",alignItems:"center",gap:4,children:[o.jsx(Se,{count:c,setCount:m}),o.jsx(Be,{onClick:u,children:"Add to card"})]})})]})};export{Ot as default};
